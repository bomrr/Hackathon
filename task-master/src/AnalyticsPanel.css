/* Base selector (in case the component is rendered with only "analytics" or class order differs) */
.analytics {
  background: var(--card-bg, #fff);
  color: var(--text-color, #111827);
}

/* Your improved panel styles remain, with explicit background */
.analytics.improved {
  position: fixed;
  right: 0; top: 0; bottom: 0;
  width: 330px;
  background: var(--card-bg, #fff);
  color: var(--text-color, #111827);
  border-left: 1px solid #e5e7eb;
  box-shadow: -4px 0 16px rgba(0,0,0,0.06);
  transform: translateX(100%);
  transition: transform 0.25s ease-in-out;
  padding: 16px;
  overflow-y: auto;
  z-index: 100;
  font-size: var(--base-font-size, 16px);
}
.analytics.improved.open { transform: translateX(0); }

.analytics__head { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.analytics__head h3 { margin:0; font-weight:600; }
.analytics__head button { background:none; border:none; font-size:1.25rem; cursor:pointer; color:var(--text-color, #111827); }

.analytics__section { background:#f9fafb; border-radius:12px; padding:12px; margin-bottom:14px; box-shadow: inset 0 0 0 1px #e5e7eb; }
.grid3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }

.kpi { border-radius:10px; padding:10px; text-align:center; font-weight:500; }
.kpi__label { font-size:0.9rem; opacity:0.9; }
.kpi__value { font-size:1.4rem; font-weight:700; }

.piechart { display:block; margin:8px auto; }
.legend { list-style:none; padding:0; margin:8px 0 0 0; font-size:0.85rem; }
.legend li { display:flex; align-items:center; gap:6px; }
.legend span { width:12px; height:12px; border-radius:3px; display:inline-block; }

.bar-container { display:flex; align-items:flex-end; justify-content:space-around; height:100px; margin-top:8px; }
.bar { text-align:center; width:30%; }
.bar-inner { border-radius:4px 4px 0 0; transition: height 0.3s; }
.bar-label { margin-top:6px; font-size:0.8rem; }
